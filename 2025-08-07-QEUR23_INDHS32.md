---
title: QEUR23_INDHS32 - 閑話休題～カバラ数秘術をやってみる(簡便法NO1)
date: 2025-08-07
tags: ["QEUシステム", "メトリックス", "Python言語", "Unsloth", "LLM", "データセット", "BONSAI", "LangGraph"]
excerpt: あたらしいLLMの学習体系を確立する
---

## QEUR23_INDHS32 - 閑話休題～カバラ数秘術をやってみる(簡便法NO1)  

## ～  やっぱり、これは「一人称」 ～

### ・・・ 現在のところ、ダメダメ ・・・

QEU:FOUNDER ： “**簡便(?)法**でカバラ数秘術をやってみましょう。”

D先生：“この数秘術って、微妙ですけどねえ・・・。”

![imageINDS2-32-1](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-1.jpg) 

QEU:FOUNDER ： “オリエンテーションで使ってみましたけど、かなり印象的な結果を残しました。**使わないともったいない**のです。”

**(815氏)**

![imageINDS2-32-2](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-2.jpg) 

**(366氏)**

![imageINDS2-32-3](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-3.jpg) 

QEU:FOUNDER ： “前回は、AIに分析を全て任せました。あのような分析は、さすがに手に負えません。そこで、**巷で普通に使われる還元法を使います**。まあ、ロジックそのものはつまらないものです。注意すべきことは、このプログラムでは名前はヘブライ表記、ヘブライ歴の生年月日でインプットしていることです。理由は当たり前です。**「占いとは統計」**です。統計がなりたつ前提を崩してはなりません。それでは、プログラムを一気に見ていきましょう。率直に言って、つまらないからね・・・（笑）。”

```python
# ---
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from convertdate import hebrew
import datetime
import japanize_matplotlib
import hashlib
from scipy import signal

# --- カバラ数秘術設定 ---
NUMEROLOGY_COLORS = {
    1: ("赤", "創造・始源"),
    2: ("橙", "調和・受容"),
    3: ("黄", "表現・喜び"),
    4: ("緑", "基盤・安定"),
    5: ("青", "自由・変革"),
    6: ("藍", "愛・調和"),
    7: ("紫", "叡智・神秘"),
    8: ("金", "力・豊穣"),
    9: ("白", "完成・英知"),
    11: ("銀", "啓示・霊性"),
    22: ("金", "巨匠・実現"),
    33: ("虹", "奉仕・調和")
}

SEFIROT_INFLUENCE = {
    "ケテル": {"お金・資産": 0.1, "事象・名声": 0.3, "成長": 0.4},
    "ホクマー": {"健康": 0.4, "成長": 0.3, "競争": 0.2},
    "ビナー": {"家庭": 0.5, "人間関係": 0.4},
    "チェセド": {"人間関係": 0.6, "健康": 0.3},
    "ゲヴラ": {"競争": 0.7, "事象・名声": 0.2},
    "ティファアレト": {"お金・資産": 0.3, "成長": 0.4, "健康": 0.3},
    "ネツァフ": {"家庭": 0.4, "人間関係": 0.5},
    "ホド": {"競争": 0.5, "成長": 0.4},
    "イェソド": {"お金・資産": 0.4, "健康": 0.3},
    "マルクト": {"家庭": 0.6, "人間関係": 0.3}
}

# 性格評価マッピング
PERSONALITY_ASSESSMENT = {
    1: "リーダーシップに優れた開拓者。新しいことを始めるエネルギーに満ちています。",
    2: "調和と協力を重視する平和主義者。感受性が豊かで直感力に優れています。",
    3: "創造性と表現力豊かな芸術家タイプ。社交的で周囲を楽しませる才能があります。",
    4: "堅実で信頼できる実務家。組織や基盤を築くことに長けています。",
    5: "自由と変化を愛する冒険家。適応力が高く、多様な経験を求めます。",
    6: "家庭と奉仕を重視する慈愛の人。調和を創り出す能力に優れています。",
    7: "分析的で探究心の強い研究者タイプ。内省的で深い知恵を追求します。",
    8: "実務的で成功を追求する実業家タイプ。組織を管理し富を築く能力があります。",
    9: "理想主義で人道精神の強い博愛主義者。グローバルな視点を持っています。",
    11: "霊的直感に優れたビジョナリー。人々を啓発する能力があります。",
    22: "大きな夢を実現するマスタービルダー。壮大なプロジェクトを成功させます。",
    33: "奉仕と癒しを使命とする人道主義者。調和と平和をもたらします。"
}

def calculate_numerology(value, show_reduction=False):
    """数値をカバラ数に還元（マスターナンバー対応）"""
    original = value
    if not isinstance(value, int):
        digits = ''.join(filter(str.isdigit, str(value)))
        total = sum(int(d) for d in digits) if digits else 0
    else:
        total = value
    
    # マスターナンバーチェック
    if total in (11, 22, 33):
        return (original, total) if show_reduction else total
    
    reduction_steps = [total]
    current = total
    
    # 一桁になるまで還元
    while current > 9:
        current = sum(int(d) for d in str(current))
        reduction_steps.append(current)
        if current in (11, 22, 33):
            break
    
    return (original, reduction_steps[-1]) if show_reduction else reduction_steps[-1]

def hebrew_to_gematria(name):
    """ヘブライ語名をゲマトリア変換"""
    gematria_map = {
        'א': 1, 'ב': 2, 'ג': 3, 'ד': 4, 'ה': 5,
        'ו': 6, 'ז': 7, 'ח': 8, 'ט': 9, 'י': 10,
        'כ': 20, 'ל': 30, 'מ': 40, 'נ': 50, 'ס': 60,
        'ע': 70, 'פ': 80, 'צ': 90, 'ק': 100, 'ר': 200,
        'ש': 300, 'ת': 400
    }
    # ヘブライ文字のみ抽出
    hebrew_chars = [char for char in name if char in gematria_map]
    return sum(gematria_map.get(char, 0) for char in hebrew_chars)

def calculate_seed(gregorian_date, hebrew_name):
    """運勢計算のための決定論的シード生成（32ビット範囲に収める）"""
    date_hash = hashlib.sha256(gregorian_date.encode()).hexdigest()
    name_hash = hashlib.sha256(hebrew_name.encode()).hexdigest()
    combined = date_hash + name_hash
    # 16進数16桁（64ビット）を整数に変換し、2**32で割った余りを取る
    seed_value = int(combined[:16], 16) % (2**32)
    return seed_value

def calculate_personal_cycle(year, birth_year, destiny_num):
    """個人の運勢周期を計算（0-8の値で返す）"""
    start_year = birth_year + destiny_num
    cycle_length = 9
    cycle_pos = (year - start_year) % cycle_length
    return max(0, cycle_pos)

def is_cycle_year(year, birth_year, destiny_num, cycle_type="start"):
    """運勢周期の開始年/終了年を判定"""
    start_year = birth_year + destiny_num
    if cycle_type == "start":
        return (year - start_year) % 9 == 0
    elif cycle_type == "end":
        return (year - start_year) % 9 == 8
    return False

def calculate_fortune_points(sefirot_values):
    """セフィロト表から7種の運勢ポイントを計算（1～5の評価）"""
    # セフィラの数値リストを取得
    ket = sefirot_values[0]  # ケテル
    hok = sefirot_values[1]  # ホクマー
    bin = sefirot_values[2]  # ビナー
    che = sefirot_values[3]  # チェセド
    gev = sefirot_values[4]  # ゲヴラ
    tif = sefirot_values[5]  # ティファアレト
    net = sefirot_values[6]  # ネツァフ
    hod = sefirot_values[7]  # ホド
    yes = sefirot_values[8]  # イェソド
    mal = sefirot_values[9]  # マルクト
    
    # 7種の運勢ポイント計算（理論的根拠に基づく組み合わせ）
    # 各ポイントは1～5の範囲に正規化
    fortune_points = {
        "金運": (che + mal) / 2.8,  # チェセド(慈悲) + マルクト(王国)
        "名声": (tif + hod) / 2.8,  # ティファアレト(美) + ホド(威光)
        "家庭運": (che + gev) / 2.8,  # チェセド(慈悲) + ゲヴラ(厳厲)
        "恋愛運": (tif + net) / 2.8,  # ティファアレト(美) + ネツァフ(勝利)
        "成長運": (ket + hok) / 2.8,  # ケテル(王冠) + ホクマー(知恵)
        "競争運": (bin + yes) / 2.8,  # ビナー(理解) + イェソド(基礎)
        "健康運": (mal + yes) / 2.8   # マルクト(王国) + イェソド(基礎)
    }
    
    # ポイントを1～5の範囲に制限
    for key in fortune_points:
        fortune_points[key] = min(5.0, max(1.0, fortune_points[key]))
        # 小数点以下1桁で丸める
        fortune_points[key] = round(fortune_points[key], 1)
    
    return fortune_points

def generate_fortune_points_table(sefirot_values, years, base_values, birth_year, destiny_num):
    """カバラ数秘術に基づく運勢ポイント生成"""
    categories = ["お金・資産", "事象・名声", "家庭", "人間関係", "成長", "競争", "健康"]
    seed = calculate_seed(base_values['gregorian'], base_values['hebrew_name'])
    np.random.seed(seed)
    
    # 基本波動生成（三角波+ノイズ）
    base_wave = signal.sawtooth(2 * np.pi * np.arange(len(years)) / 9, width=0.5)
    noise = np.random.normal(0, 0.3, len(years))
    base_fortune = base_wave * 3 + noise
    
    # セフィロトの影響を適用
    sefirot_matrix = np.zeros((len(SEFIROT_INFLUENCE), len(categories)))
    for i, sefira in enumerate(SEFIROT_INFLUENCE):
        for j, category in enumerate(categories):
            sefirot_matrix[i, j] = SEFIROT_INFLUENCE[sefira].get(category, 0)
    
    # 個人の数秘術プロファイル
    profile = np.array([
        base_values['destiny'],
        base_values['month'],
        base_values['day'],
        base_values['day_reduced'],
        base_values['expression'],
        base_values['year_reduced'],
        base_values['soul'],
        base_values['destiny'],
        base_values['destiny_expr'],
        base_values['year_digit_sum']
    ]) / 33.0  # 正規化
    
    # 運勢計算: (基本波動 × セフィロト影響 × 個人プロファイル)
    fortune = np.dot(profile, sefirot_matrix) * base_fortune[:, None]
    
    # 運勢周期の強化
    for i, year in enumerate(years):
        cycle_pos = calculate_personal_cycle(year, birth_year, destiny_num)
        cycle_boost = 0.8 * np.sin(2 * np.pi * cycle_pos / 9)  # 正弦波で強化
        fortune[i] += cycle_boost
    
    # マスターナンバーの特別効果
    if destiny_num == 11:
        fortune[:, [1, 4]] *= 1.4  # 事象・名声と成長
    elif destiny_num == 22:
        fortune[:, [0, 1]] *= 1.6  # お金・資産と事象・名声
    elif destiny_num == 33:
        fortune[:, [2, 3]] *= 1.8  # 家庭と人間関係
    
    # ポイントを-5から5の範囲に正規化
    fortune = 5 * np.tanh(fortune / 3)
    return pd.DataFrame(fortune, index=years, columns=categories)

def generate_fortune_chart(fortune_df, birth_year, destiny_num, show_plot=False):
    """運勢グラフ生成"""
    years = fortune_df.index
    categories = fortune_df.columns
    plt.figure(figsize=(14, 8))
    
    # 個人の運勢周期を計算
    cycle_years = []
    for year in years:
        if calculate_personal_cycle(year, birth_year, destiny_num) == 0:
            cycle_years.append(year)
    
    # 各カテゴリの運勢をプロット
    for category in categories:
        values = fortune_df[category].values
        # スムージング（Savitzky-Golayフィルタ）
        smoothed = signal.savgol_filter(values, window_length=7, polyorder=2)
        plt.plot(years, smoothed, linewidth=2, label=category)
    
    # 周期開始年を縦線で表示
    for cy in cycle_years:
        plt.axvline(x=cy, color='gray', linestyle='--', alpha=0.5)
    
    # グラフの装飾
    plt.title(f"{years[0]}～{years[-1]} カバラ運勢推移", fontsize=16)
    plt.xlabel("年", fontsize=12)
    plt.ylabel("運勢", fontsize=12)
    plt.axhline(0, color='gray', linestyle='--', alpha=0.7)
    plt.ylim(-5.5, 5.5)
    plt.yticks([-5, -3, 0, 3, 5], ["大凶", "凶", "平", "吉", "大吉"])
    plt.legend(loc='upper left', bbox_to_anchor=(1, 1))
    plt.grid(True, alpha=0.3)
    plt.tight_layout()
    
    plt.savefig('kabala_fortune_chart.png')
    if show_plot:
        plt.show()
    else:
        plt.close()
    
    return 'kabala_fortune_chart.png'

def generate_sefirot_table(base_values):
    """生命の樹セフィラ対応表を生成"""
    sefirot_names = [
        "ケテル（王冠）", "ホクマー（知恵）", "ビナー（理解）", "チェセド（慈悲）",
        "ゲヴラ（厳厲）", "ティファアレト（美）", "ネツァフ（勝利）", "ホド（威光）",
        "イェソド（基礎）", "マルクト（王国）"
    ]
    
    # セフィラ数値の計算
    sefirot_values = [
        base_values['destiny'],                   # ケテル: 運命数
        base_values['month'],                     # ホクマー: 誕生月
        base_values['day'],                       # ビナー: 誕生日
        base_values['year_reduced'],              # チェセド: 誕生年還元数
        base_values['expression'],                # ゲヴラ: 表現数
        base_values['year_reduced'],              # ティファアレト: 誕生年還元数
        base_values['soul'],                     # ネツァフ: 魂の欲求数
        base_values['destiny'],                  # ホド: 運命数
        calculate_numerology(base_values['destiny'] + base_values['destiny']),  # イェソド: ケテル+ホド
        base_values['year_reduced']              # マルクト: 誕生年還元数
    ]
    
    # 計算根拠の説明
    reasons = [
        "ユダヤ歴「運命数」",
        "ユダヤ歴「誕生月」",
        "ユダヤ歴「誕生日」",
        "ユダヤ歴「誕生年（5000年調整後）」還元数",  # 説明修正
        "氏名「表現数」",
        "ユダヤ歴「誕生年（5000年調整後）」還元数",  # 説明修正
        "氏名「魂の欲求数」",
        "ユダヤ歴「運命数」",
        "ケテル + ホド",
        "ユダヤ歴「誕生年（5000年調整後）」還元数"   # 説明修正
    ]
    
    # 表の生成
    table = "セフィラ                 | 対応数      | 計算根拠\n"
    table += "------------------------------------------------------------\n"
    for i in range(len(sefirot_names)):
        sefira = sefirot_names[i].ljust(20)
        value = str(sefirot_values[i]).center(10)
        reason = reasons[i]
        table += f"{i+1}. {sefira} | {value} | {reason}\n"
    
    return table, sefirot_values

def kabala_numerology_analysis(gregorian_date, hebrew_name, show_chart=False):
    """カバラ数秘術の全分析を実行"""
    try:
        # 生年月日解析
        birth_date = datetime.datetime.strptime(gregorian_date, "%Y-%m-%d")
        g_year, g_month, g_day = birth_date.year, birth_date.month, birth_date.day
        
        # ヘブライ暦変換
        h_year, h_month, h_day = hebrew.from_gregorian(g_year, g_month, g_day)
        
        # 正統な数秘術に基づき5000年を省略
        h_year_adj = h_year - 5000 if h_year >= 5000 else h_year
        
        # 名前のゲマトリア計算（還元前後）
        expression_raw = hebrew_to_gematria(hebrew_name)
        expression_reduced = calculate_numerology(expression_raw)
        
        # 魂の欲求数計算
        soul_raw = sum(1 for c in hebrew_name if c in ['י','ו','ה','א'])
        soul_reduced = calculate_numerology(soul_raw)
        
        # 運命数計算（還元前後）: 修正後の年を使用
        destiny_raw = int(f"{h_year_adj}{h_month}{h_day}")
        destiny_reduced = calculate_numerology(destiny_raw)
        
        # 基本数値計算
        base_values = {
            'gregorian': gregorian_date,
            'hebrew_name': hebrew_name,
            'destiny': destiny_reduced,
            'month': h_month,
            'day': h_day,
            'day_reduced': calculate_numerology(h_day),
            'expression': expression_reduced,
            'year_reduced': calculate_numerology(h_year_adj),  # 修正後の年を使用
            'soul': soul_reduced,
            'destiny_expr': calculate_numerology(destiny_reduced + expression_reduced),
            'year_digit_sum': calculate_numerology(sum(int(d) for d in str(h_year_adj)))  # 修正後の年を使用
        }
        
        destiny_num = base_values['destiny']
        destiny_color, destiny_meaning = NUMEROLOGY_COLORS.get(destiny_num, ("", ""))
        
        # セフィロト分析
        sefirot_table, sefirot_values = generate_sefirot_table(base_values)
        
        # 7種の運勢ポイント計算
        fortune_points = calculate_fortune_points(sefirot_values)
        
        # 性格評価
        personality = PERSONALITY_ASSESSMENT.get(destiny_num, "独自の才能と個性を持つ人物。")
        
        # ラッキーカラーとラッキーナンバー
        lucky_color = destiny_color
        lucky_number = destiny_num
        
        # 運勢データ生成
        years = list(range(1970, 2031))
        fortune_df = generate_fortune_points_table(sefirot_values, years, base_values, g_year, desti-ny_num)
        
        # グラフ生成
        chart_path = generate_fortune_chart(fortune_df, g_year, destiny_num, show_chart)
        
        # 運勢表の生成
        fortune_table = "Year   | 金運     名声     家庭運    恋愛運    成長運    競争運    健康運    | 運勢周期\n"
        fortune_table += "-------------------------------------------------------------------------------------\n"
        
        for year in years:
            # 運勢周期の表示
            cycle_text = ""
            if is_cycle_year(year, g_year, destiny_num, "start"):
                cycle_text = "(START)"
            elif is_cycle_year(year, g_year, destiny_num, "end"):
                cycle_text = "(END)"
            
            # 運勢値の取得とフォーマット
            values = fortune_df.loc[year]
            formatted_values = "".join([f"{v:>8.1f}" for v in values])
            fortune_table += f"{year:<6} | {formatted_values} | {cycle_text}\n"
        
        # 運勢ポイントの表示用テーブル
        fortune_points_table = "運勢ポイント | 評価 (1～5)\n"
        fortune_points_table += "---------------------------------\n"
        for key, value in fortune_points.items():
            fortune_points_table += f"{key:<8} | {value:.1f}\n"
        
        # 理論的根拠の説明
        theoretical_basis = f"""
【カバラ数秘術の運勢計算の理論的根拠】

カバラ数秘術は、ヘブライ語の神秘主義的解釈体系に基づき、生命の樹（セフィラ）の10の側面を用いて人生を分析します。本プログラムの運勢計算は、以下の理論に基づいています。

1. 生命の樹（セフィラ）の10の側面
   - ケテル（王冠）: 1 - 精神的目標と神とのつながり (数値: {sefirot_values[0]})
   - ホクマー（知恵）: 2 - 直感と洞察 (数値: {sefirot_values[1]})
   - ビナー（理解）: 3 - 論理的思考 (数値: {sefirot_values[2]})
   - チェセド（慈悲）: 4 - 愛と調和 (数値: {sefirot_values[3]})
   - ゲヴラ（厳厲）: 5 - 厳しさと制限 (数値: {sefirot_values[4]})
   - ティファアレト（美）: 6 - 平衡と美 (数値: {sefirot_values[5]})
   - ネツァフ（勝利）: 7 - 勝利と忍耐 (数値: {sefirot_values[6]})
   - ホド（威光）: 8 - 謙虚さと分析 (数値: {sefirot_values[7]})
   - イェソド（基礎）: 9 - 基盤と無意識 (数値: {sefirot_values[8]})
   - マルクト（王国）: 10 - 現実世界での実現 (数値: {sefirot_values[9]})

2. 7種の運勢ポイントの理論的根拠
   a) 金運: チェセド(慈悲:{sefirot_values[3]})とマルクト(王国:{sefirot_values[9]})の組み合わせ
      - 物質的豊かさと現実化の能力
      - チェセド（慈悲）が豊かさの流れを、マルクト（王国）が現実化を表す
      - 計算式: (チェセド + マルクト) / 2.8 = {fortune_points['金運']:.1f}
      
   b) 名声: ティファアレト(美:{sefirot_values[5]})とホド(威光:{sefirot_values[7]})の組み合わせ
      - 社会的評価と謙虚さのバランス
      - ティファアレト（美）が調和、ホド（威光）が謙虚さを表す
      - 計算式: (ティファアレト + ホド) / 2.8 = {fortune_points['名声']:.1f}
      
   c) 家庭運: チェセド(慈悲:{sefirot_values[3]})とゲヴラ(厳厲:{sefirot_values[4]})の組み合わせ
      - 愛と厳しさのバランス
      - チェセド（慈悲）が愛、ゲヴラ（厳厲）が適度な制限を表す
      - 計算式: (チェセド + ゲヴラ) / 2.8 = {fortune_points['家庭運']:.1f}
      
   d) 恋愛運: ティファアレト(美:{sefirot_values[5]})とネツァフ(勝利:{sefirot_values[6]})の組み合わせ
      - 平衡と勝利のエネルギー
      - ティファアレト（美）が調和、ネツァフ（勝利）が忍耐を表す
      - 計算式: (ティファアレト + ネツァフ) / 2.8 = {fortune_points['恋愛運']:.1f}
      
   e) 成長運: ケテル(王冠:{sefirot_values[0]})とホクマー(知恵:{sefirot_values[1]})の組み合わせ
      - 精神的目標と知恵
      - ケテル（王冠）が目標、ホクマー（知恵）が洞察を表す
      - 計算式: (ケテル + ホクマー) / 2.8 = {fortune_points['成長運']:.1f}
      
   f) 競争運: ビナー(理解:{sefirot_values[2]})とイェソド(基礎:{sefirot_values[8]})の組み合わせ
      - 理解力と基盤
      - ビナー（理解）が論理、イェソド（基礎）が基盤を表す
      - 計算式: (ビナー + イェソド) / 2.8 = {fortune_points['競争運']:.1f}
      
   g) 健康運: マルクト(王国:{sefirot_values[9]})とイェソド(基礎:{sefirot_values[8]})の組み合わせ
      - 身体的健康と無意識のバランス
      - マルクト（王国）が身体、イェソド（基礎）が無意識を表す
      - 計算式: (マルクト + イェソド) / 2.8 = {fortune_points['健康運']:.1f}

3. 9年周期の理論
   - カバラ数秘術では、人生は9年周期で展開するとされる
   - 各周期は運命数の還元数と同じ数値の年から始まる
   - 周期の途中でエネルギーの変動があり、STARTからENDまでの8年間で一巡する

4. 計算ロジックの詳細
   - 各運勢は、対応するセフィラの値を組み合わせて基本値を算出
   - ユダヤ暦年の還元数、月、日を考慮して年間の影響を加味
   - 9年周期の位置に基づく周期的影響を乗算
   - 最終的に-5(大凶)～+5(大吉)のスケールに変換

5. マスターナンバーの扱い
   - 11, 22, 33は特別な力を持つとされ、通常の還元ルールから外れる
   - しかし、周期計算では還元数(11→2, 22→4, 33→6)を使用

6. 5000年調整について
   - 正統的なカバラ数秘術では、ヘブライ暦年から5000年を引いた値を使用
   - 元の年号: {h_year} → 調整後: {h_year_adj} (5000を減算)
   - これにより個人のエネルギーに焦点を当てた正確な分析が可能に

このように、本プログラムはカバラ数秘術の伝統的な理論に基づき、単なる数学的モデルではなく、神秘学的解釈体系を適切に反映した運勢計算を実現しています。
        """
        
        # レポート生成
        report = f"""
============================================================
カバラ数秘術占いプログラム（正統派5000年調整版）
============================================================
ヘブライ語氏名: {hebrew_name}
グレゴリオ生年月日: {gregorian_date}
============================================================

============================================================
ヘブライ語氏名から占い数を計算した結果
氏名（還元前）: {expression_raw} → 還元後: {expression_reduced}
魂の欲求数（還元前）: {soul_raw} → 還元後: {soul_reduced}

============================================================
ヘブライ暦生年月日から占い数を計算した結果
ユダヤ歴: {h_year}年 {h_month}月 {h_day}日
5000年調整: {h_year} → {h_year_adj} (正統派数秘術に基づく)
運命数（還元前）: {destiny_raw} → 還元後: {destiny_reduced}

============================================================
生命の樹_セフィラ対応表（計算根拠: ユダヤ歴のみ）
{sefirot_table}
============================================================
7種の運勢ポイント (1～5の評価)
{fortune_points_table}
============================================================
簡単な性格、能力評価
{personality}

============================================================
ラッキーカラー
{lucky_color} - {destiny_meaning}

============================================================
カバラ数秘術の運勢計算の理論的根拠
{theoretical_basis}

============================================================
1970年～2030年までの運勢グラフ（評価: -5(大凶) ~ 0(普通) ~ +5(大吉)）
{fortune_table}
        """
        
        return report
        
    except Exception as e:
        return f"エラー発生: {str(e)}"

# ---
# 実行例（815:石破茂氏）
#hebrew_name = "שִׁגֶרֻ יִשִׁבָ"
#gregorian_date = "1957-02-04"
# 実行例（366:安倍晋三)
hebrew_name = "שִׁנְזֹו אָבֶ"
gregorian_date = "1954-09-21"
# ---
report = kabala_numerology_analysis(gregorian_date, hebrew_name, show_chart=True)
print(report)

```

D先生：“おっと、結果が出て来た。さすがに、LLMを使っていないと結果が出るのは速いですね。”

![imageINDS2-32-4](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-4.jpg) 

D先生：“どうやら815氏の分析結果ですね。それにしても、ユダヤ歴の5000年を省略する処理をするんですね？”

QEU:FOUNDER ： “それが正統なやり方らしいです。ちなみに、5000年を残した分析をすると全く違う結果が出てきます。こんな簡単な分析法だからしようがないけどね・・・。それでは、815氏の分析結果を見てみましょう。今回は、占いの考え方を理解できるように、ちょっと長いアウトプットにアレンジしました。”

============================================================

カバラ数秘術占いプログラム（正統派5000年調整版）

============================================================

ヘブライ語氏名: 
    שִׁגֶרֻ יִשִׁבָ

    グレゴリオ生年月日: 1957-02-04
    
============================================================

============================================================

ヘブライ語氏名から占い数を計算した結果

- 氏名（還元前）: 815 → 還元後: 5
- 魂の欲求数（還元前）: 1 → 還元後: 1

============================================================

ヘブライ暦生年月日から占い数を計算した結果

- ユダヤ歴: 5717年 12月 3日
- 5000年調整: 5717 → 717 (正統派数秘術に基づく)
- 運命数（還元前）: 717123 → 還元後: 3

============================================================

生命の樹_セフィラ対応表（計算根拠: ユダヤ歴のみ）
    
| セフィラ                 | 対応数      | 計算根拠 |
| -------------------------|--------------|---------------------|
| 1. ケテル（王冠）              |     3      | ユダヤ歴「運命数」|
| 2. ホクマー（知恵）             |     12     | ユダヤ歴「誕生月」|
| 3. ビナー（理解）              |     3      | ユダヤ歴「誕生日」|
| 4. チェセド（慈悲）             |     6      | ユダヤ歴「誕生年（5000年調整後）」還元数|
| 5. ゲヴラ（厳厲）              |     5      | 氏名「表現数」|
| 6. ティファアレト（美）           |     6      | ユダヤ歴「誕生年（5000年調整後）」還元数|
| 7. ネツァフ（勝利）             |     1      | 氏名「魂の欲求数」|
| 8. ホド（威光）               |     3      | ユダヤ歴「運命数」|
| 9. イェソド（基礎）             |     6      | ケテル + ホド|
| 10. マルクト（王国）             |     6      | ユダヤ歴「誕生年（5000年調整後）」還元数|

============================================================

7種の運勢ポイント (1～5の評価)

| 運勢ポイント | 評価 (1～5) |
|------------------|---------------|
| 金運       | 4.3 |
| 名声       | 3.2 |
| 家庭運      | 3.9 |
| 恋愛運      | 2.5 |
| 成長運      | 5.0 |
| 競争運      | 3.2 |
| 健康運      | 4.3 |

============================================================

簡単な性格、能力評価

創造性と表現力豊かな芸術家タイプ。社交的で周囲を楽しませる才能があります。

============================================================

ラッキーカラー

黄 - 表現・喜び

============================================================

カバラ数秘術の運勢計算の理論的根拠

【カバラ数秘術の運勢計算の理論的根拠】

カバラ数秘術は、ヘブライ語の神秘主義的解釈体系に基づき、生命の樹（セフィラ）の10の側面を用いて人生を分析します。本プログラムの運勢計算は、以下の理論に基づいています。

1. 生命の樹（セフィラ）の10の側面
   - ケテル（王冠）: 1 - 精神的目標と神とのつながり (数値: 3)
   - ホクマー（知恵）: 2 - 直感と洞察 (数値: 12)
   - ビナー（理解）: 3 - 論理的思考 (数値: 3)
   - チェセド（慈悲）: 4 - 愛と調和 (数値: 6)
   - ゲヴラ（厳厲）: 5 - 厳しさと制限 (数値: 5)
   - ティファアレト（美）: 6 - 平衡と美 (数値: 6)
   - ネツァフ（勝利）: 7 - 勝利と忍耐 (数値: 1)
   - ホド（威光）: 8 - 謙虚さと分析 (数値: 3)
   - イェソド（基礎）: 9 - 基盤と無意識 (数値: 6)
   - マルクト（王国）: 10 - 現実世界での実現 (数値: 6)

2. 7種の運勢ポイントの理論的根拠
   a) 金運: チェセド(慈悲:6)とマルクト(王国:6)の組み合わせ
      - 物質的豊かさと現実化の能力
      - チェセド（慈悲）が豊かさの流れを、マルクト（王国）が現実化を表す
      - 計算式: (チェセド + マルクト) / 2.8 = 4.3
      
   b) 名声: ティファアレト(美:6)とホド(威光:3)の組み合わせ
      - 社会的評価と謙虚さのバランス
      - ティファアレト（美）が調和、ホド（威光）が謙虚さを表す
      - 計算式: (ティファアレト + ホド) / 2.8 = 3.2
      
   c) 家庭運: チェセド(慈悲:6)とゲヴラ(厳厲:5)の組み合わせ
      - 愛と厳しさのバランス
      - チェセド（慈悲）が愛、ゲヴラ（厳厲）が適度な制限を表す
      - 計算式: (チェセド + ゲヴラ) / 2.8 = 3.9
      
   d) 恋愛運: ティファアレト(美:6)とネツァフ(勝利:1)の組み合わせ
      - 平衡と勝利のエネルギー
      - ティファアレト（美）が調和、ネツァフ（勝利）が忍耐を表す
      - 計算式: (ティファアレト + ネツァフ) / 2.8 = 2.5
      
   e) 成長運: ケテル(王冠:3)とホクマー(知恵:12)の組み合わせ
      - 精神的目標と知恵
      - ケテル（王冠）が目標、ホクマー（知恵）が洞察を表す
      - 計算式: (ケテル + ホクマー) / 2.8 = 5.0
      
   f) 競争運: ビナー(理解:3)とイェソド(基礎:6)の組み合わせ
      - 理解力と基盤
      - ビナー（理解）が論理、イェソド（基礎）が基盤を表す
      - 計算式: (ビナー + イェソド) / 2.8 = 3.2
      
   g) 健康運: マルクト(王国:6)とイェソド(基礎:6)の組み合わせ
      - 身体的健康と無意識のバランス
      - マルクト（王国）が身体、イェソド（基礎）が無意識を表す
      - 計算式: (マルクト + イェソド) / 2.8 = 4.3

3. 9年周期の理論
   - カバラ数秘術では、人生は9年周期で展開するとされる
   - 各周期は運命数の還元数と同じ数値の年から始まる
   - 周期の途中でエネルギーの変動があり、STARTからENDまでの8年間で一巡する

4. 計算ロジックの詳細
   - 各運勢は、対応するセフィラの値を組み合わせて基本値を算出
   - ユダヤ暦年の還元数、月、日を考慮して年間の影響を加味
   - 9年周期の位置に基づく周期的影響を乗算
   - 最終的に-5(大凶)～+5(大吉)のスケールに変換

5. マスターナンバーの扱い
   - 11, 22, 33は特別な力を持つとされ、通常の還元ルールから外れる
   - しかし、周期計算では還元数(11→2, 22→4, 33→6)を使用

6. 5000年調整について
   - 正統的なカバラ数秘術では、ヘブライ暦年から5000年を引いた値を使用
   - 元の年号: 5717 → 調整後: 717 (5000を減算)
   - これにより個人のエネルギーに焦点を当てた正確な分析が可能に

このように、本プログラムはカバラ数秘術の伝統的な理論に基づき、単なる数学的モデルではなく、神秘学的解釈体系を適切に反映した運勢計算を実現しています。
        

============================================================

1970年～2030年までの運勢グラフ（評価: -5(大凶) ~ 0(普通) ~ +5(大吉)）
    
Year   | 金運     名声     家庭運    恋愛運    成長運    競争運    健康運    | 運勢周期

-------------------------------------------------------------------------------------

1970   |      0.2     0.6     0.1     0.2    -0.2    -0.1    -0.4 | 

1971   |      0.8     1.1     0.8     0.8     0.6     0.7     0.5 | 

1972   |      1.0     1.1     1.0     1.0     1.0     1.0     1.0 | 

1973   |      0.7     0.6     0.8     0.7     0.9     0.9     1.0 | 

1974   |      0.2    -0.2     0.2     0.2     0.6     0.5     0.8 | 

1975   |     -0.6    -0.9    -0.6    -0.6    -0.3    -0.4    -0.1 | 

1976   |     -1.0    -1.2    -1.0    -1.0    -0.9    -0.9    -0.8 | 

1977   |     -0.8    -0.8    -0.8    -0.8    -0.8    -0.8    -0.8 | (END)

1978   |     -0.5    -0.2    -0.5    -0.5    -0.8    -0.7    -0.9 | (START)

1979   |      0.0     0.6    -0.0     0.0    -0.5    -0.3    -0.7 | 

1980   |      0.7     1.1     0.6     0.7     0.3     0.4     0.1 | 

1981   |      1.1     1.1     1.1     1.1     1.1     1.1     1.1 | 

1982   |      0.7     0.5     0.7     0.7     0.8     0.8     0.9 | 

1983   |      0.2    -0.2     0.2     0.2     0.5     0.4     0.7 | 

1984   |     -0.5    -0.9    -0.5    -0.5    -0.1    -0.2     0.1 | 

1985   |     -0.9    -1.2    -0.9    -0.9    -0.7    -0.8    -0.6 | 

1986   |     -0.9    -0.9    -0.9    -0.9    -0.9    -0.9    -1.0 | (END)

1987   |     -0.4    -0.1    -0.4    -0.4    -0.6    -0.5    -0.7 | (START)

1988   |      0.1     0.6     0.1     0.1    -0.4    -0.2    -0.6 | 

1989   |      0.9     1.1     0.9     0.9     0.6     0.7     0.5 |


D先生： “わかりやすい説明です。確か、他の占いでも815さんは芸術家タイプと言われていましたね。”

![imageINDS2-32-5](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-5.jpg) 

QEU:FOUNDER ： “紫微斗数のとき？記憶力がいいねえ・・・。それでは、次は366氏の場合を見てみます。今回は、説明の部分を一気に省きます。”

============================================================

カバラ数秘術占いプログラム（正統派5000年調整版）

============================================================

ヘブライ語氏名: 
    שִׁנְזֹו אָבֶ

グレゴリオ生年月日: 1954-09-21
    
============================================================

============================================================

ヘブライ語氏名から占い数を計算した結果

- 氏名（還元前）: 366 → 還元後: 6      
- 魂の欲求数（還元前）: 2 → 還元後: 2

============================================================

ヘブライ暦生年月日から占い数を計算した結果

- ユダヤ歴: 5714年 6月 23日
- 5000年調整: 5714 → 714 (正統派数秘術に基づく)
- 運命数（還元前）: 714623 → 還元後: 5

============================================================

生命の樹_セフィラ対応表（計算根拠: ユダヤ歴のみ）

|  セフィラ                 | 対応数      | 計算根拠 |
|------------------------------|------------|------------------|
| 1. ケテル（王冠）              |     5      | ユダヤ歴「運命数」|
| 2. ホクマー（知恵）             |     6      | ユダヤ歴「誕生月」|
| 3. ビナー（理解）              |     23     | ユダヤ歴「誕生日」|
| 4. チェセド（慈悲）             |     3      | ユダヤ歴「誕生年（5000年調整後）」還元数|
| 5. ゲヴラ（厳厲）              |     6      | 氏名「表現数」|
| 6. ティファアレト（美）           |     3      | ユダヤ歴「誕生年（5000年調整後）」還元数|
| 7. ネツァフ（勝利）             |     2      | 氏名「魂の欲求数」|
| 8. ホド（威光）               |     5      | ユダヤ歴「運命数」|
| 9. イェソド（基礎）             |     1      | ケテル + ホド|
| 10. マルクト（王国）             |     3      | ユダヤ歴「誕生年（5000年調整後）」還元数|

============================================================

7種の運勢ポイント (1～5の評価)

|運勢ポイント | 評価 (1～5)|
|-------------------|--------------|
| 金運       | 2.1 |
| 名声       | 2.9 |
| 家庭運      | 3.2 |
| 恋愛運      | 1.8 |
| 成長運      | 3.9 |
| 競争運      | 5.0 |
| 健康運      | 1.4 |

============================================================

簡単な性格、能力評価

自由と変化を愛する冒険家。適応力が高く、多様な経験を求めます。

============================================================

ラッキーカラー

青 - 自由・変革

D先生： “これも、変化を追求するというイメージが出来ています。他の占いと、ほぼ同じ結果です。すごいですね。両英雄を比較できませんか？”

![imageINDS2-32-6](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-6.jpg) 

QEU:FOUNDER ： “なるほどねえ・・・。金運については、納得は行かない。他は、そんなものかと思います。”

D先生： “すごく簡単な計算をしました。セフィロットに入る番号は、大きければ大きいほどいいんですか？”

![imageINDS2-32-7](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-7.jpg) 

D先生： “すごく**納得がいかないロジック**です。”

QEU:FOUNDER ： “なにしろ「数秘術」ですから・・・（笑）。次は、運勢の変動を見てみましょう。”

![imageINDS2-32-8](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-8.jpg) 

D先生： “何だこれ？こんな風になるわけないじゃないですか！！ “

QEU:FOUNDER  ： “Vibe Coding でAI様がむりやり作ったんです。もともと、カバラ数秘術には、運勢をみる能力はないです。**「一人称の占い」**ですから・・・。ただし、運勢の周期は決められています。9年です。この周期が始まる時期が、人によって違うんです。”

### **(1) 個人年（パーソナルイヤー）の計算**

- **目的**: 1年間の全体的なテーマやエネルギーを把握。
- **計算方法**:
  - 対象年の数字（例：2025）と誕生月・誕生日の数字を合計し、一桁（またはマスターナンバー11、22）に還元。
  - 例：1990年5月15日生まれ、2025年の運勢。
    - 2025 + 5 + 15 = 2+0+2+5 + 5 + 1+5 = 20 → 2+0 = **2**。
    - 2025年の個人年は「2」（協力、調和、パートナーシップの年）。
- **解釈**:
  - 個人年1～9はそれぞれ異なるテーマを持つ：
    - 1: 新しい始まり、リーダーシップ。
    - 2: 協力、調和、関係性の構築。
    - 3: 創造性、自己表現。
    - 4: 安定、努力、基盤構築。
    - 5: 変化、自由、冒険。
    - 6: 責任、家庭、奉仕。
    - 7: 内省、スピリチュアルな探求。
    - 8: 成功、物質的達成、権力。
    - 9: 完成、解放、次のサイクルへの準備。
- **周期**: 個人年は9年周期で進行し、毎年1つずつ数字が進む（例：2025年が2なら2026年は3）。この周期は生年月日によって開始点が異なり、個人差が生じる。

D先生： “なるほど、これをグラフ化すると正弦波になるわけですね。 ちょっとむりやり・・・。“

QEU:FOUNDER  ： “まあ、これからわかることは、**カバラ数秘術は、他の占いの補助として「は」、とても使いやすい**ということです。なぜなら、やれることが限定されていて、他の手法と干渉しません・・・（笑）。”

D先生：“どの手法と合わせるのですか？”

QEU:FOUNDER ： “そう・・・。それが悩むところです。どちらにしろ、このプログラムは「ダウト」なので、もう一度検討しましょう。”


## ～ まとめ ～

QEU:FOUNDER ： “ワロタ・・・。”

[![MOVIE1](http://img.youtube.com/vi/1ys9HDlRZqs/0.jpg)](http://www.youtube.com/watch?v=1ys9HDlRZqs "意味不明！石破内閣総理大臣VS神谷参政党党首の国会対決。 池亀彩・京都大学教授。安冨歩・東京大学名誉教授。")

C部長：“これには、ぼくも感動しました。”

![imageINDS2-32-9](/2025-08-07-QEUR23_INDHS32/imageINDS2-32-9.jpg) 

QEU:FOUNDER ： “しかし、ちがう星に住んでいる人にはわからないんです。”

D先生：“その点、これ（↓）は、一種の清涼剤でした。”

[![MOVIE2](http://img.youtube.com/vi/e8MT_210RpI/0.jpg)](http://www.youtube.com/watch?v=e8MT_210RpI "【広島・平和記念式典】石破首相「ＮＰＴ体制の下、核兵器のない世界の実現に向け全力")

QEU:FOUNDER ： “まともな人を見ると、ほっとします。”

